(this["webpackJsonptime-tracker"]=this["webpackJsonptime-tracker"]||[]).push([[0],{35:function(n,t,e){},36:function(n,t,e){},42:function(n,t,e){"use strict";e.r(t);var i,r,a,c,o,s,l,d,j=e(2),b=e.n(j),u=e(25),p=e.n(u),x=(e(35),e(18)),m=e(5),h=(e(36),e(27)),f=e(43),O=e(26),g=e(45),v=e(44),T=function(n){return n<10?"0"+n:n},y=function(n){if("number"!==typeof n)return"00:00:00";var t=new Date(0),e=Object(f.a)(t,n),i=Object(O.a)(e,t,{roundingMethod:"floor"}),r=Object(g.a)({start:0,end:1e3*n});return"".concat(T(i),":").concat(T(r.minutes),":").concat(T(r.seconds))},w=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=0;return n.forEach((function(n){e+=Object(h.a)(n.endTime,n.startTime)})),t?e:y(e)},k=function(n){return Object(v.a)(n,"EEEE do")},C=function(n){var t={};return n.forEach((function(n){var e=k(n.startTime);void 0===t[e]&&(t[e]=[]),t[e].push(n)})),t},S=function(n,t,e,i,r){var a={startTime:n,times:t,totalTime:e,goalTime:i,goalDaily:r};localStorage.setItem("time-tracker-state",JSON.stringify(a))},E=function(){var n=localStorage.getItem("time-tracker-state"),t=(n=null!==n?JSON.parse(n):{startTime:0,times:[],totalTime:0,goalTime:0,goalDaily:!1}).times.map((function(n){return{startTime:new Date(n.startTime),endTime:new Date(n.endTime)}}));return{startTime:0===n.startTime?0:new Date(n.startTime),times:t,totalTime:w(t,!0),goalTime:n.goalTime,goalDaily:n.goalDaily}},D=e(9),N=e(19),I=e(6),L=e(7),F=e(8),G=e(0),H=L.a.div(i||(i=Object(I.a)(["\n    display: flex;\n    width: 430px;\n    margin: auto;\n\n    & > div {\n        border: 1px solid gray;\n        border-left: none;\n        margin: 5px auto;\n        height: 40px;\n        padding-left: 5px;\n        padding-right: 5px;\n\n        & > div {\n            padding-top: 5px;\n            padding-bottom: 5px;\n            margin: 0px;\n            height: 100%;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n    }\n\n    & > div.times {\n        border-left: 1px solid gray;\n        display: grid;\n        grid-template-columns: 1fr 30px 1fr;\n        border-radius: 5px 0px 0px 5px;\n        width: 300px;\n        text-align: center;\n        margin-right: 0px;\n\n        & input {\n            border: 1px solid gray;\n            border-radius: 5px;\n            height: 29px;\n            width: 110px;\n        }\n    }\n\n    & > div.totalTime {\n        width: 120px;\n    }\n\n    & > div.edit {\n        border-left: none;\n        border-radius: 0px 5px 5px 0px;\n        margin-left: 0px;\n        width: 70px;\n\n        & > div > svg {\n            font-size: 1.3em;\n        }\n\n        &:hover {\n            background-color: lightgray;\n            cursor: pointer;\n        }\n    }\n"]))),Y=L.a.div(r||(r=Object(I.a)(["\n    color: red;\n    margin-top: -5px;\n    margin-bottom: 5px;\n"]))),A=function(n){var t=n.obj,e=n.times,i=n.setTimes,r=Object(j.useState)(!1),a=Object(m.a)(r,2),c=a[0],o=a[1],s=Object(j.useState)(t.startTime.toLocaleTimeString()),l=Object(m.a)(s,2),d=l[0],b=l[1],u=Object(j.useState)(t.endTime.toLocaleTimeString()),p=Object(m.a)(u,2),f=p[0],O=p[1],g=Object(j.useState)(""),T=Object(m.a)(g,2),w=T[0],k=T[1],C="HH:mm:ss",D=Object(h.a)(t.endTime,t.startTime),N=y(D),I=function(n,t){var e=n.split(":"),i=Object(m.a)(e,3),r=i[0],a=i[1],c=i[2];c||(c=0),a||(a=0),r||(r=0);var o=new Date(t);return o.setHours(r),o.setMinutes(a),o.setSeconds(c),o};return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(H,{children:[Object(G.jsxs)("div",{className:"times",children:[Object(G.jsx)("div",{children:c?Object(G.jsx)("div",{children:Object(G.jsx)("input",{type:"time",value:d,onChange:function(n){var t=n.target.value;b(t)},step:"1"})}):Object(G.jsx)("div",{children:Object(v.a)(t.startTime,C)})}),Object(G.jsx)("div",{children:"To"}),Object(G.jsx)("div",{children:c?Object(G.jsx)("div",{children:Object(G.jsx)("input",{type:"time",value:f,onChange:function(n){var t=n.target.value;O(t)},step:"1"})}):Object(G.jsx)("div",{children:Object(v.a)(t.endTime,C)})})]}),Object(G.jsx)("div",{className:"totalTime",children:Object(G.jsx)("div",{children:N})}),Object(G.jsx)("div",{className:"edit",onClick:function(){if(c){var n=I(d,t.startTime),r=I(f,t.endTime);if(Object(h.a)(r,n)<1)return void k("Error: Second time should be later than the first time.");var a=e.indexOf(t),s=Object(x.a)(e);s.splice(a,1,{startTime:n,endTime:r}),i(s),function(n){var t=E(),e=t.startTime,i=t.totalTime,r=t.goalTime,a=t.goalDaily;S(e,n,i,r,a)}(s),o(!1),k("")}else o(!0)},children:Object(G.jsx)("div",{children:c?"Save":Object(G.jsx)(F.c,{})})})]}),w.length>0?Object(G.jsx)(Y,{children:w}):null]})},J=L.a.div(a||(a=Object(I.a)(["\n    & > div:first-child {\n        display: grid;\n        margin: auto;\n        grid-template-columns: 30px auto 30px;\n        width: 315px;\n\n        & > h3 {\n            margin-bottom: 10px;\n        }\n\n        & > svg {\n            float: right;\n            font-size: 1.7em;\n            position: relative;\n            top: 15px;\n            color: #666;\n\n            :hover {\n                cursor: pointer;\n                color: #333;\n            }\n        }\n    }\n"]))),M=function(n){var t=n.date,e=n.timeObjs,i=Object(N.a)(n,["date","timeObjs"]),r=Object(j.useState)(!1),a=Object(m.a)(r,2),c=a[0],o=a[1],s=w(e);return Object(G.jsxs)(J,{children:[Object(G.jsxs)("div",{children:[Object(G.jsx)("span",{}),Object(G.jsx)("h3",{children:t}),c?Object(G.jsx)(F.a,{onClick:function(){return o(!1)}}):Object(G.jsx)(F.b,{onClick:function(){return o(!0)}})]}),c?e.map((function(n){return Object(G.jsx)(A,Object(D.a)({obj:n},i),n.startTime)})):null,Object(G.jsxs)("div",{children:["Daily Total: ",s]})]})},R=function(n){var t=n.times,e=Object(N.a)(n,["times"]);if(0===t.length)return null;var i=C(t),r=Object.keys(i);return Object(G.jsx)("div",{children:r.map((function(n){return Object(G.jsx)(M,Object(D.a)({date:n,timeObjs:i[n],times:t},e),n)}))})},X=L.a.div(c||(c=Object(I.a)(["\n    border: 1px solid gray;\n    border-radius: 5px;\n    display: inline-block;\n    padding: 5px;\n    margin: ",";\n    width: ",";\n    background-color: #EEE;\n    text-align: center;\n\n    &:hover {\n        background-color: #CCC;\n        cursor: pointer;\n    }\n"])),(function(n){return n.margin}),(function(n){return n.width})),z=function(n){var t=n.label,e=n.onClick,i=n.width,r=void 0===i?"100px":i,a=n.margin,c=void 0===a?"5px":a;return Object(G.jsx)(X,{onClick:e,width:r,margin:c,children:t})},B=L.a.div(o||(o=Object(I.a)(["\n    color: black;\n    width: ",";\n    margin: ",";\n    display: inline-block;\n    position: relative;\n\n    & .label {\n        background-color: #EEE;\n        border: 1px solid gray;\n        padding: 5px;\n        border-radius: 5px;\n        transition: 0.3s;\n    }\n\n    & .label:hover {\n        cursor: pointer;\n        background-color: #CCC;\n    }\n\n    & .confirmation.visible {\n        opacity: 1;\n        pointer-events: all;\n        transition: 0.3s opacity;\n    }\n\n    & > .confirmation {\n        position: absolute;\n        width: 120px;\n        padding: 5px;\n        border: 1px solid gray;\n        border-radius: 5px;\n        transition: 0.3s opacity;\n        opacity: 0;\n        pointer-events: none;\n        color: black;\n        background-color: white;\n    }\n\n    & > .confirmation.top {\n        bottom: calc(100% + 5px);\n        left: 50%;\n        transform: translateX(-50%);\n    }\n\n    & > .confirmation.bottom {\n        top: calc(100% + 5px);\n        left: 50%;\n        transform: translateX(-50%);\n    }\n\n    & > .confirmation.left {\n        right: calc(100% + 5px);\n        top: 50%;\n        transform: translateY(-50%);\n    }\n\n    & > .confirmation.right {\n        left: calc(100% + 5px);\n        top: 50%;\n        transform: translateY(-50%);\n    }\n\n    & .confirmation::after {\n        content: '';\n        display: block;\n        width: 8px;\n        height: 8px;\n        background-color: white;\n        position: absolute;\n        border-left: 1px solid black;\n        border-bottom: 1px solid black;\n    }\n\n    & .confirmation.top::after {\n        bottom: -5px;\n        left: 50%;\n        transform:  translateX(-50%) rotate(-45deg);\n    }\n\n    & .confirmation.bottom::after {\n        top: -5px;\n        left: 50%;\n        transform:  translateX(-50%) rotate(135deg);\n    }\n\n    & .confirmation.left::after {\n        right: -5px;\n        top: 50%;\n        transform:  translateY(-50%) rotate(-135deg);\n    }\n\n    & .confirmation.right::after {\n        left: -5px;\n        top: 50%;\n        transform:  translateY(-50%) rotate(45deg);\n    }\n\n    & > .confirmation span {\n        margin-bottom: 5px;\n    }\n\n    & > .confirmation > div {\n        display: inline-block;\n        padding: 4px;\n        width: 50px;\n        color: black;\n        border-radius: 5px;\n        margin-top: 5px;\n        border: 1px solid gray;\n        background-color: #EEE;\n    }\n\n    & > .confirmation > div:first-of-type {\n        margin-right: 5px;\n    }\n\n    & .confirm:hover, & .cancel:hover {\n        cursor: pointer;\n        background-color: #CCC;\n    }\n"])),(function(n){return n.width}),(function(n){return n.margin})),P=function(n){var t=n.label,e=void 0===t?"":t,i=n.onClick,r=void 0===i?function(){}:i,a=n.width,c=void 0===a?"100px":a,o=n.margin,s=void 0===o?"5px":o,l=n.direction,d=void 0===l?"top":l,b=Object(j.useState)(!1),u=Object(m.a)(b,2),p=u[0],x=u[1],h=Object(j.useState)(d),f=Object(m.a)(h,2),O=f[0],g=f[1],v=Object(j.useRef)(null);Object(j.useEffect)((function(){var n=function(n){v.current&&!v.current.contains(n.target)&&p&&x(!1)};return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[v,p]);var T=function(){var n=v.current.getBoundingClientRect(),t=n.x>130,e=window.innerWidth-(n.x+n.width)>130,i=n.y>70,r=window.innerHeight-(n.y+n.height)>70,a={top:i,bottom:r,left:t,right:e};d!==O&&a[d]&&g(d),t||"left"!==d||g(y(a)),e||"right"!==d||g(y(a)),i||"top"!==d||g(y(a)),r||"bottom"!==d||g(y(a))},y=function(n){for(var t in n)if(n[t])return t;return d};return Object(G.jsxs)(B,{width:c,margin:s,children:[Object(G.jsx)("div",{ref:v,className:"label",onClick:function(){T(),x(!0)},children:Object(G.jsx)("div",{children:e})}),Object(G.jsxs)("div",{className:"confirmation".concat(p?" visible":""," ").concat(O),children:[Object(G.jsx)("span",{children:"Are you sure?"}),Object(G.jsx)("div",{className:"confirm",onClick:function(){x(!1),r()},children:"Yes"}),Object(G.jsx)("div",{className:"cancel",onClick:function(){x(!1)},children:"No"})]})]})},W=L.a.div(s||(s=Object(I.a)(["\n    border: 3px solid gray;\n    border-radius: 50%;\n    width: 150px;\n    height: 150px;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    margin: 5px;\n    transition: 0.5s;\n    ","\n\n    & > div:first-child {\n        font-weight: bold;\n    }\n"])),(function(n){return n.active?"border-color: green;":""})),q=function(n){var t=n.seconds,e=n.heading,i=n.active,r=void 0!==i&&i,a=n.style;return Object(G.jsxs)(W,{active:r,style:a,children:[Object(G.jsx)("div",{children:e}),Object(G.jsx)("div",{children:y(t)})]})},K=L.a.div(l||(l=Object(I.a)(["\n    position: absolute;\n    border: 1px solid #666;\n    width: 200px;\n    margin: auto;\n    top: calc(100% - 10px);\n    left: -87px;\n    background-color: white;\n    border-radius: 10px;\n    padding: 5px;\n\n    & > div:first-child {\n        position: absolute;\n        border-left: 1px solid #666;\n        border-top: 1px solid #666;\n        width: 12px;\n        height: 12px;\n        transform: rotate(45deg) translate(-50%, -50%);\n        top: 2px;\n        left: calc(50% - 6px);\n        background-color: white;\n    }\n\n    & input {\n        width: 100%;\n    }\n\n    & input[type='checkbox'] {\n        width: 15px;\n        height: 15px;\n        margin-left: 0px;\n    }\n\n    & td {\n        padding: 5px;\n    }\n\n    & td:first-of-type {\n        text-align: right;\n    }\n\n    @media screen and (max-width:520px) {\n        left: -160px;\n\n        & > div:first-child {\n            left: calc(100% - 32px);\n        }\n    }\n"]))),Q=function(n){var t=n.goal,e=n.onChangeGoal,i=n.goalDaily,r=void 0!==i&&i,a=n.onClose,c=y(t).split(":").map((function(n){return parseInt(n)})),o=Object(j.useState)(c[0]),s=Object(m.a)(o,2),l=s[0],d=s[1],b=Object(j.useState)(c[1]),u=Object(m.a)(b,2),p=u[0],x=u[1],h=Object(j.useState)(r),f=Object(m.a)(h,2),O=f[0],g=f[1];return Object(G.jsxs)(K,{children:[Object(G.jsx)("div",{}),Object(G.jsx)("h4",{style:{margin:5},children:"Set Goal"}),Object(G.jsx)("table",{children:Object(G.jsxs)("tbody",{children:[Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:"Hours"}),Object(G.jsx)("td",{children:Object(G.jsx)("input",{type:"number",value:l,onChange:function(n){d(n.target.value)}})})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:"Minutes"}),Object(G.jsx)("td",{children:Object(G.jsx)("input",{type:"number",value:p,onChange:function(n){x(n.target.value)}})})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:"Daily"}),Object(G.jsx)("td",{style:{textAlign:"left"},children:Object(G.jsx)("input",{type:"checkbox",checked:O,onChange:function(n){g(n.target.checked)}})})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)(z,{label:"Save",onClick:function(){var n=0;n+=60*l*60,e(n+=60*p,O),a()},margin:"0px",width:"80px"})}),Object(G.jsx)("td",{children:Object(G.jsx)(z,{label:"Cancel",onClick:a,margin:"0px",width:"80px"})})]})]})})]})},U=L.a.div(d||(d=Object(I.a)(["\n    display: grid;\n    grid-template-columns: 25px auto 25px;\n    width: 315px;\n    margin: auto;\n\n    & > div {\n        position: relative;\n    }\n\n    & > div > svg {\n        float: right;\n        font-size: 1.5em;\n        position: relative;\n        top: 22px;\n        color: #666;\n\n        :hover {\n            cursor: pointer;\n            color: #333;\n        }\n    }\n"]))),V=function(n){var t=Object.assign({},n),e=Object(j.useState)(!1),i=Object(m.a)(e,2),r=i[0],a=i[1];return Object(G.jsxs)(U,{children:[Object(G.jsx)("span",{}),Object(G.jsx)("h2",{children:"Time Tracker"}),Object(G.jsxs)("div",{children:[Object(G.jsx)(F.c,{onClick:function(){a(!0)}}),r?Object(G.jsx)(Q,Object(D.a)(Object(D.a)({},t),{},{onClose:function(){a(!1)}})):null]})]})};var Z=function(){var n=Object(j.useState)(0),t=Object(m.a)(n,2),e=t[0],i=t[1],r=Object(j.useState)([]),a=Object(m.a)(r,2),c=a[0],o=a[1],s=Object(j.useState)(0),l=Object(m.a)(s,2),d=l[0],b=l[1],u=Object(j.useState)(0),p=Object(m.a)(u,2),f=p[0],O=p[1],g=Object(j.useState)(0),v=Object(m.a)(g,2),T=v[0],y=v[1],D=Object(j.useState)(null),N=Object(m.a)(D,2),I=N[0],L=N[1],F=Object(j.useState)(0),H=Object(m.a)(F,2),Y=H[0],A=H[1],J=Object(j.useState)(!1),M=Object(m.a)(J,2),X=M[0],B=M[1];Object(j.useEffect)((function(){var n=E(),t=n.startTime,e=n.times,r=n.totalTime,a=n.goalTime,c=n.goalDaily;i(t),o(e),b(r),A(a),B(c),W(t),K(e)}),[]),Object(j.useEffect)((function(){var n=w(c,!0);b(n),K(c)}),[c]);var W=function(n){if(0!==n){var t=setInterval((function(){var t=new Date,e=Object(h.a)(t,n);y(e)}),100);L(t),window.document.title="Time Tracker - Active"}},K=function(n){var t=C(n)[k(new Date)];if(void 0!==t){var e=w(t,!0);O(e)}},Q=function(){i(0),clearInterval(I),window.document.title="Time Tracker",L(null),y(0)},U=Y-d-T;X&&(U=Y-f-T),U<0&&(U=0);var Z=f===d?0:-20;return Object(G.jsxs)("div",{className:"App",children:[Object(G.jsx)(V,{goal:Y,onChangeGoal:function(n,t){A(n),B(t),S(e,c,d,n,t)},goalDaily:X}),Object(G.jsxs)("div",{children:[Object(G.jsx)(q,{seconds:d+T,heading:"Total Time"}),f===d?null:Object(G.jsx)(q,{seconds:f+T,heading:"Today's Time"}),Object(G.jsx)(q,{seconds:T,heading:"Current Time",active:0!==e,style:{marginTop:Z}})]}),Y>0?Object(G.jsxs)("div",{style:{marginTop:Z},children:[Object(G.jsx)(q,{seconds:Y,heading:X?"Daily Goal":"Goal",active:0===U}),Object(G.jsx)(q,{seconds:U,heading:"Remaining",active:0===U})]}):null,Object(G.jsxs)("div",{children:[Object(G.jsx)(z,{label:"Start",onClick:function(){if(0===e){var n=new Date;i(n),S(n,c,d,Y,X),W(n)}}}),Object(G.jsx)(z,{label:"Stop",onClick:function(){if(0!==e){var n=new Date,t={startTime:e,endTime:n},i=[].concat(Object(x.a)(c),[t]);o(i);var r=w(i,!0);b(r),Q(),S(0,i,0,Y,X),K(i)}}}),Object(G.jsx)(P,{label:"Reset",onClick:function(){o([]),b(0),Q(),O(0),S(0,[],0,Y,X)},width:"100px"})]}),Object(G.jsx)("div",{children:Object(G.jsx)(R,{times:c,setTimes:o})})]})},$=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,46)).then((function(t){var e=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;e(n),i(n),r(n),a(n),c(n)}))};p.a.render(Object(G.jsx)(b.a.StrictMode,{children:Object(G.jsx)(Z,{})}),document.getElementById("root")),$()}},[[42,1,2]]]);
//# sourceMappingURL=main.c64379a2.chunk.js.map