(this["webpackJsonptime-tracker"]=this["webpackJsonptime-tracker"]||[]).push([[0],{35:function(n,t,e){},36:function(n,t,e){},42:function(n,t,e){"use strict";e.r(t);var i,r,c,a,o,s,l,d=e(2),j=e.n(d),b=e(25),u=e.n(b),p=(e(35),e(18)),x=e(5),m=(e(36),e(27)),f=e(43),h=e(26),O=e(45),g=e(44),v=function(n){return n<10?"0"+n:n},T=function(n){if("number"!==typeof n)return"00:00:00";var t=new Date(0),e=Object(f.a)(t,n),i=Object(h.a)(e,t,{roundingMethod:"floor"}),r=Object(O.a)({start:0,end:1e3*n});return"".concat(v(i),":").concat(v(r.minutes),":").concat(v(r.seconds))},y=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=0;return n.forEach((function(n){e+=Object(m.a)(n.endTime,n.startTime)})),t?e:T(e)},w=function(n){return Object(g.a)(n,"EEEE do")},k=function(n){var t={};return n.forEach((function(n){var e=w(n.startTime);void 0===t[e]&&(t[e]=[]),t[e].push(n)})),t},C=function(n,t,e,i,r){var c={startTime:n,times:t,totalTime:e,goalTime:i,goalDaily:r};localStorage.setItem("time-tracker-state",JSON.stringify(c))},S=function(){var n=localStorage.getItem("time-tracker-state"),t=(n=null!==n?JSON.parse(n):{startTime:0,times:[],totalTime:0,goalTime:0,goalDaily:!1}).times.map((function(n){return{startTime:new Date(n.startTime),endTime:new Date(n.endTime)}}));return{startTime:0===n.startTime?0:new Date(n.startTime),times:t,totalTime:y(t,!0),goalTime:n.goalTime,goalDaily:n.goalDaily}},D=e(9),E=e(19),N=e(6),I=e(7),L=e(8),G=e(0),H=I.a.div(i||(i=Object(N.a)(["\n    display: flex;\n    width: 430px;\n    margin: auto;\n\n    & > div {\n        border: 1px solid gray;\n        border-left: none;\n        margin: 5px auto;\n        height: 40px;\n        padding-left: 5px;\n        padding-right: 5px;\n\n        & > div {\n            padding-top: 5px;\n            padding-bottom: 5px;\n            margin: 0px;\n            height: 100%;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n    }\n\n    & > div.times {\n        border-left: 1px solid gray;\n        display: grid;\n        grid-template-columns: 1fr 30px 1fr;\n        border-radius: 5px 0px 0px 5px;\n        width: 300px;\n        text-align: center;\n        margin-right: 0px;\n\n        & input {\n            height: 30px;\n            width: 110px;\n        }\n    }\n\n    & > div.totalTime {\n        width: 120px;\n    }\n\n    & > div.edit {\n        border-left: none;\n        border-radius: 0px 5px 5px 0px;\n        margin-left: 0px;\n        width: 70px;\n\n        & > div > svg {\n            font-size: 1.3em;\n        }\n\n        &:hover {\n            background-color: lightgray;\n            cursor: pointer;\n        }\n    }\n"]))),Y=function(n){var t=n.obj,e=n.times,i=n.setTimes,r=Object(d.useState)(!1),c=Object(x.a)(r,2),a=c[0],o=c[1],s=Object(d.useState)(t.startTime.toLocaleTimeString()),l=Object(x.a)(s,2),j=l[0],b=l[1],u=Object(d.useState)(t.endTime.toLocaleTimeString()),f=Object(x.a)(u,2),h=f[0],O=f[1],v="HH:mm:ss",y=Object(m.a)(t.endTime,t.startTime),w=T(y),k=function(n,t){var e=n.split(":"),i=Object(x.a)(e,3),r=i[0],c=i[1],a=i[2];a||(a=0),c||(c=0),r||(r=0);var o=new Date(t);return o.setHours(r),o.setMinutes(c),o.setSeconds(a),o};return Object(G.jsxs)(H,{children:[Object(G.jsxs)("div",{className:"times",children:[Object(G.jsx)("div",{children:a?Object(G.jsx)("div",{children:Object(G.jsx)("input",{type:"time",value:j,onChange:function(n){var t=n.target.value;b(t)},step:"1"})}):Object(G.jsx)("div",{children:Object(g.a)(t.startTime,v)})}),Object(G.jsx)("div",{children:"To"}),Object(G.jsx)("div",{children:a?Object(G.jsx)("div",{children:Object(G.jsx)("input",{type:"time",value:h,onChange:function(n){var t=n.target.value;O(t)},step:"1"})}):Object(G.jsx)("div",{children:Object(g.a)(t.endTime,v)})})]}),Object(G.jsx)("div",{className:"totalTime",children:Object(G.jsx)("div",{children:w})}),Object(G.jsx)("div",{className:"edit",onClick:function(){if(o((function(n){return!n})),a){var n=k(j,t.startTime),r=k(h,t.endTime),c=e.indexOf(t),s=Object(p.a)(e);s.splice(c,1,{startTime:n,endTime:r}),i(s),function(n){var t=S(),e=t.startTime,i=t.totalTime,r=t.goalTime,c=t.goalDaily;C(e,n,i,r,c)}(s)}},children:Object(G.jsx)("div",{children:a?"Save":Object(G.jsx)(L.c,{})})})]})},A=I.a.div(r||(r=Object(N.a)(["\n    & > div:first-child {\n        display: grid;\n        margin: auto;\n        grid-template-columns: 30px auto 30px;\n        width: 315px;\n\n        & > h3 {\n            margin-bottom: 10px;\n        }\n\n        & > svg {\n            float: right;\n            font-size: 1.7em;\n            position: relative;\n            top: 15px;\n            color: #666;\n\n            :hover {\n                cursor: pointer;\n                color: #333;\n            }\n        }\n    }\n"]))),F=function(n){var t=n.date,e=n.timeObjs,i=Object(E.a)(n,["date","timeObjs"]),r=Object(d.useState)(!1),c=Object(x.a)(r,2),a=c[0],o=c[1],s=y(e);return Object(G.jsxs)(A,{children:[Object(G.jsxs)("div",{children:[Object(G.jsx)("span",{}),Object(G.jsx)("h3",{children:t}),a?Object(G.jsx)(L.a,{onClick:function(){return o(!1)}}):Object(G.jsx)(L.b,{onClick:function(){return o(!0)}})]}),a?e.map((function(n){return Object(G.jsx)(Y,Object(D.a)({obj:n},i),n.startTime)})):null,Object(G.jsxs)("div",{children:["Daily Total: ",s]})]})},J=function(n){var t=n.times,e=Object(E.a)(n,["times"]);if(0===t.length)return null;var i=k(t),r=Object.keys(i);return Object(G.jsx)("div",{children:r.map((function(n){return Object(G.jsx)(F,Object(D.a)({date:n,timeObjs:i[n],times:t},e),n)}))})},M=I.a.div(c||(c=Object(N.a)(["\n    border: 1px solid gray;\n    border-radius: 5px;\n    display: inline-block;\n    padding: 5px;\n    margin: ",";\n    width: ",";\n    background-color: #EEE;\n    text-align: center;\n\n    &:hover {\n        background-color: #CCC;\n        cursor: pointer;\n    }\n"])),(function(n){return n.margin}),(function(n){return n.width})),R=function(n){var t=n.label,e=n.onClick,i=n.width,r=void 0===i?"100px":i,c=n.margin,a=void 0===c?"5px":c;return Object(G.jsx)(M,{onClick:e,width:r,margin:a,children:t})},X=I.a.div(a||(a=Object(N.a)(["\n    color: black;\n    width: ",";\n    margin: ",";\n    display: inline-block;\n    position: relative;\n\n    & .label {\n        background-color: #EEE;\n        border: 1px solid gray;\n        padding: 5px;\n        border-radius: 5px;\n        transition: 0.3s;\n    }\n\n    & .label:hover {\n        cursor: pointer;\n        background-color: #CCC;\n    }\n\n    & .confirmation.visible {\n        opacity: 1;\n        pointer-events: all;\n        transition: 0.3s opacity;\n    }\n\n    & > .confirmation {\n        position: absolute;\n        width: 120px;\n        padding: 5px;\n        border: 1px solid gray;\n        border-radius: 5px;\n        transition: 0.3s opacity;\n        opacity: 0;\n        pointer-events: none;\n        color: black;\n        background-color: white;\n    }\n\n    & > .confirmation.top {\n        bottom: calc(100% + 5px);\n        left: 50%;\n        transform: translateX(-50%);\n    }\n\n    & > .confirmation.bottom {\n        top: calc(100% + 5px);\n        left: 50%;\n        transform: translateX(-50%);\n    }\n\n    & > .confirmation.left {\n        right: calc(100% + 5px);\n        top: 50%;\n        transform: translateY(-50%);\n    }\n\n    & > .confirmation.right {\n        left: calc(100% + 5px);\n        top: 50%;\n        transform: translateY(-50%);\n    }\n\n    & .confirmation::after {\n        content: '';\n        display: block;\n        width: 8px;\n        height: 8px;\n        background-color: white;\n        position: absolute;\n        border-left: 1px solid black;\n        border-bottom: 1px solid black;\n    }\n\n    & .confirmation.top::after {\n        bottom: -5px;\n        left: 50%;\n        transform:  translateX(-50%) rotate(-45deg);\n    }\n\n    & .confirmation.bottom::after {\n        top: -5px;\n        left: 50%;\n        transform:  translateX(-50%) rotate(135deg);\n    }\n\n    & .confirmation.left::after {\n        right: -5px;\n        top: 50%;\n        transform:  translateY(-50%) rotate(-135deg);\n    }\n\n    & .confirmation.right::after {\n        left: -5px;\n        top: 50%;\n        transform:  translateY(-50%) rotate(45deg);\n    }\n\n    & > .confirmation span {\n        margin-bottom: 5px;\n    }\n\n    & > .confirmation > div {\n        display: inline-block;\n        padding: 4px;\n        width: 50px;\n        color: black;\n        border-radius: 5px;\n        margin-top: 5px;\n        border: 1px solid gray;\n        background-color: #EEE;\n    }\n\n    & > .confirmation > div:first-of-type {\n        margin-right: 5px;\n    }\n\n    & .confirm:hover, & .cancel:hover {\n        cursor: pointer;\n        background-color: #CCC;\n    }\n"])),(function(n){return n.width}),(function(n){return n.margin})),z=function(n){var t=n.label,e=void 0===t?"":t,i=n.onClick,r=void 0===i?function(){}:i,c=n.width,a=void 0===c?"100px":c,o=n.margin,s=void 0===o?"5px":o,l=n.direction,j=void 0===l?"top":l,b=Object(d.useState)(!1),u=Object(x.a)(b,2),p=u[0],m=u[1],f=Object(d.useState)(j),h=Object(x.a)(f,2),O=h[0],g=h[1],v=Object(d.useRef)(null);Object(d.useEffect)((function(){var n=function(n){v.current&&!v.current.contains(n.target)&&p&&m(!1)};return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[v,p]);var T=function(){var n=v.current.getBoundingClientRect(),t=n.x>130,e=window.innerWidth-(n.x+n.width)>130,i=n.y>70,r=window.innerHeight-(n.y+n.height)>70,c={top:i,bottom:r,left:t,right:e};j!==O&&c[j]&&g(j),t||"left"!==j||g(y(c)),e||"right"!==j||g(y(c)),i||"top"!==j||g(y(c)),r||"bottom"!==j||g(y(c))},y=function(n){for(var t in n)if(n[t])return t;return j};return Object(G.jsxs)(X,{width:a,margin:s,children:[Object(G.jsx)("div",{ref:v,className:"label",onClick:function(){T(),m(!0)},children:Object(G.jsx)("div",{children:e})}),Object(G.jsxs)("div",{className:"confirmation".concat(p?" visible":""," ").concat(O),children:[Object(G.jsx)("span",{children:"Are you sure?"}),Object(G.jsx)("div",{className:"confirm",onClick:function(){m(!1),r()},children:"Yes"}),Object(G.jsx)("div",{className:"cancel",onClick:function(){m(!1)},children:"No"})]})]})},B=I.a.div(o||(o=Object(N.a)(["\n    border: 3px solid gray;\n    border-radius: 50%;\n    width: 150px;\n    height: 150px;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    margin: 5px;\n    transition: 0.5s;\n    ","\n\n    & > div:first-child {\n        font-weight: bold;\n    }\n"])),(function(n){return n.active?"border-color: green;":""})),P=function(n){var t=n.seconds,e=n.heading,i=n.active,r=void 0!==i&&i,c=n.style;return Object(G.jsxs)(B,{active:r,style:c,children:[Object(G.jsx)("div",{children:e}),Object(G.jsx)("div",{children:T(t)})]})},W=I.a.div(s||(s=Object(N.a)(["\n    position: absolute;\n    border: 1px solid #666;\n    width: 200px;\n    margin: auto;\n    top: calc(100% - 10px);\n    left: -87px;\n    background-color: white;\n    border-radius: 10px;\n    padding: 5px;\n\n    & > div:first-child {\n        position: absolute;\n        border-left: 1px solid #666;\n        border-top: 1px solid #666;\n        width: 12px;\n        height: 12px;\n        transform: rotate(45deg) translate(-50%, -50%);\n        top: 2px;\n        left: calc(50% - 6px);\n        background-color: white;\n    }\n\n    & input {\n        width: 100%;\n    }\n\n    & input[type='checkbox'] {\n        width: 15px;\n        height: 15px;\n        margin-left: 0px;\n    }\n\n    & td {\n        padding: 5px;\n    }\n\n    & td:first-of-type {\n        text-align: right;\n    }\n\n    @media screen and (max-width:520px) {\n        left: -160px;\n\n        & > div:first-child {\n            left: calc(100% - 32px);\n        }\n    }\n"]))),q=function(n){var t=n.goal,e=n.onChangeGoal,i=n.goalDaily,r=void 0!==i&&i,c=n.onClose,a=T(t).split(":").map((function(n){return parseInt(n)})),o=Object(d.useState)(a[0]),s=Object(x.a)(o,2),l=s[0],j=s[1],b=Object(d.useState)(a[1]),u=Object(x.a)(b,2),p=u[0],m=u[1],f=Object(d.useState)(r),h=Object(x.a)(f,2),O=h[0],g=h[1];return Object(G.jsxs)(W,{children:[Object(G.jsx)("div",{}),Object(G.jsx)("h4",{style:{margin:5},children:"Set Goal"}),Object(G.jsx)("table",{children:Object(G.jsxs)("tbody",{children:[Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:"Hours"}),Object(G.jsx)("td",{children:Object(G.jsx)("input",{type:"number",value:l,onChange:function(n){j(n.target.value)}})})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:"Minutes"}),Object(G.jsx)("td",{children:Object(G.jsx)("input",{type:"number",value:p,onChange:function(n){m(n.target.value)}})})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:"Daily"}),Object(G.jsx)("td",{style:{textAlign:"left"},children:Object(G.jsx)("input",{type:"checkbox",checked:O,onChange:function(n){g(n.target.checked)}})})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)(R,{label:"Save",onClick:function(){var n=0;n+=60*l*60,e(n+=60*p,O),c()},margin:"0px",width:"80px"})}),Object(G.jsx)("td",{children:Object(G.jsx)(R,{label:"Cancel",onClick:c,margin:"0px",width:"80px"})})]})]})})]})},K=I.a.div(l||(l=Object(N.a)(["\n    display: grid;\n    grid-template-columns: 25px auto 25px;\n    width: 315px;\n    margin: auto;\n\n    & > div {\n        position: relative;\n    }\n\n    & > div > svg {\n        float: right;\n        font-size: 1.5em;\n        position: relative;\n        top: 22px;\n        color: #666;\n\n        :hover {\n            cursor: pointer;\n            color: #333;\n        }\n    }\n"]))),Q=function(n){var t=Object.assign({},n),e=Object(d.useState)(!1),i=Object(x.a)(e,2),r=i[0],c=i[1];return Object(G.jsxs)(K,{children:[Object(G.jsx)("span",{}),Object(G.jsx)("h2",{children:"Time Tracker"}),Object(G.jsxs)("div",{children:[Object(G.jsx)(L.c,{onClick:function(){c(!0)}}),r?Object(G.jsx)(q,Object(D.a)(Object(D.a)({},t),{},{onClose:function(){c(!1)}})):null]})]})};var U=function(){var n=Object(d.useState)(0),t=Object(x.a)(n,2),e=t[0],i=t[1],r=Object(d.useState)([]),c=Object(x.a)(r,2),a=c[0],o=c[1],s=Object(d.useState)(0),l=Object(x.a)(s,2),j=l[0],b=l[1],u=Object(d.useState)(0),f=Object(x.a)(u,2),h=f[0],O=f[1],g=Object(d.useState)(0),v=Object(x.a)(g,2),T=v[0],D=v[1],E=Object(d.useState)(null),N=Object(x.a)(E,2),I=N[0],L=N[1],H=Object(d.useState)(0),Y=Object(x.a)(H,2),A=Y[0],F=Y[1],M=Object(d.useState)(!1),X=Object(x.a)(M,2),B=X[0],W=X[1];Object(d.useEffect)((function(){var n=S(),t=n.startTime,e=n.times,r=n.totalTime,c=n.goalTime,a=n.goalDaily;i(t),o(e),b(r),F(c),W(a),q(t),K(e)}),[]),Object(d.useEffect)((function(){var n=y(a,!0);b(n),K(a)}),[a]);var q=function(n){if(0!==n){var t=setInterval((function(){var t=new Date,e=Object(m.a)(t,n);D(e)}),100);L(t),window.document.title="Time Tracker - Active"}},K=function(n){var t=k(n)[w(new Date)];if(void 0!==t){var e=y(t,!0);O(e)}},U=function(){i(0),clearInterval(I),window.document.title="Time Tracker",L(null),D(0)},V=A-j-T;B&&(V=A-h-T),V<0&&(V=0);var Z=h===j?0:-20;return Object(G.jsxs)("div",{className:"App",children:[Object(G.jsx)(Q,{goal:A,onChangeGoal:function(n,t){F(n),W(t),C(e,a,j,n,t)},goalDaily:B}),Object(G.jsxs)("div",{children:[Object(G.jsx)(P,{seconds:j+T,heading:"Total Time"}),h===j?null:Object(G.jsx)(P,{seconds:h+T,heading:"Today's Time"}),Object(G.jsx)(P,{seconds:T,heading:"Current Time",active:0!==e,style:{marginTop:Z}})]}),A>0?Object(G.jsxs)("div",{style:{marginTop:Z},children:[Object(G.jsx)(P,{seconds:A,heading:B?"Daily Goal":"Goal",active:0===V}),Object(G.jsx)(P,{seconds:V,heading:"Remaining",active:0===V})]}):null,Object(G.jsxs)("div",{children:[Object(G.jsx)(R,{label:"Start",onClick:function(){if(0===e){var n=new Date;i(n),C(n,a,j,A,B),q(n)}}}),Object(G.jsx)(R,{label:"Stop",onClick:function(){if(0!==e){var n=new Date,t={startTime:e,endTime:n},i=[].concat(Object(p.a)(a),[t]);o(i);var r=y(i,!0);b(r),U(),C(0,i,0,A,B),K(i)}}}),Object(G.jsx)(z,{label:"Reset",onClick:function(){o([]),b(0),U(),O(0),C(0,[],0,A,B)},width:"100px"})]}),Object(G.jsx)("div",{children:Object(G.jsx)(J,{times:a,setTimes:o})})]})},V=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,46)).then((function(t){var e=t.getCLS,i=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;e(n),i(n),r(n),c(n),a(n)}))};u.a.render(Object(G.jsx)(j.a.StrictMode,{children:Object(G.jsx)(U,{})}),document.getElementById("root")),V()}},[[42,1,2]]]);
//# sourceMappingURL=main.92649e0a.chunk.js.map